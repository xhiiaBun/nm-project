import{a as L,b as V}from"./chunk-RBVZS6VS.js";import{a as B}from"./chunk-KTWWAH56.js";import{k as Q,n as z}from"./chunk-S26RCWH2.js";import{$a as m,F as A,Fa as a,Ga as F,Na as k,Sa as b,T as I,Va as O,Y as S,Ya as P,Za as c,_a as u,ab as i,ba as p,bb as r,cb as x,db as w,eb as y,fb as h,la as v,ma as M,mb as l,nb as T,ob as d,qb as C,rb as E,ua as q}from"./chunk-DZB7LW3D.js";function H(n,e){if(n&1&&(i(0,"div",1)(1,"div",2),l(2),r()()),n&2){let t=e.$implicit;a(2),d(" ",t," ")}}var f=class n{data=q([]);constructor(){}ngOnInit(){console.log("Dataa: ",this.data())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=p({type:n,selectors:[["quotes"]],inputs:{data:[1,"data"]},standalone:!0,features:[C],decls:3,vars:0,consts:[[1,"wrapper-qcollection"],[1,"col-md-4","col-xs-12","inquote"],[1,"single-quote"]],template:function(t,o){t&1&&(i(0,"div",0),u(1,H,3,1,"div",1,c),r()),t&2&&(a(),m(o.data()))},styles:[".wrapper-qcollection[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:baseline}.inquote[_ngcontent-%COMP%]{font-size:1.5rem;font-family:IM Fell Great Primer SC;margin-bottom:.5rem;padding:.5rem}.single-quote[_ngcontent-%COMP%]{background:#008b8b4d;padding:.5rem}@media (max-width: 576px){.inquote[_ngcontent-%COMP%]{font-size:1.2rem}}"]})};var g=class n{constructor(e){this._http=e}awsUrl=V.AWS_API_AUTHORS;requestAuthors(){let e=this.awsUrl+"/authors";return this._http.get(e)}static \u0275fac=function(t){return new(t||n)(S(B))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};var $=n=>({active:n});function N(n,e){n&1&&x(0,"raven-loading")}function R(n,e){if(n&1){let t=w();i(0,"div",6)(1,"button",14),y("click",function(){let s=v(t).$implicit,_=h(2);return M(_.viewAuthorsByInitial(s))}),l(2),r()()}if(n&2){let t=e.$implicit,o=h(2);a(),O("ngClass",E(2,$,o.initialLetter==t)),a(),d(" ",t," ")}}function W(n,e){if(n&1){let t=w();i(0,"button",15),y("click",function(){let s=v(t).$implicit,_=h(2);return M(_.selectAuthor(s.name))}),i(1,"span"),l(2),r()()}if(n&2){let t=e.$implicit;a(2),T(t.name)}}function J(n,e){n&1&&(i(0,"div"),l(1," There is not authors with that Initial, yet "),r())}function K(n,e){if(n&1&&(i(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2"),l(4,"Author"),r()(),i(5,"div",3),u(6,R,3,4,"div",6,c),r()(),i(8,"div",7)(9,"div",3)(10,"div",8),l(11),r(),i(12,"div",9)(13,"div",10),u(14,W,3,1,"button",11,c),b(16,J,2,0,"div"),r()()(),i(17,"div",3)(18,"div",12),x(19,"quotes",13),r()()()()),n&2){let t=h();a(6),m(t.letters),a(5),d(" ",t.initialLetter," "),a(3),m(t.contentAuthors),a(2),P((t.contentAuthors==null?null:t.contentAuthors.length)<=0?16:-1),a(3),O("data",t.quotesCollection)}}var D=class n{constructor(e){this._authorService=e}keyArrayLetters="ABCDEFGHIJKLMNOPQRSTUVWXYZ";letters=[];contentAuthors;filterAuthors;responseAuthors;initialLetter="";quotesCollection=[];dataLoaded=!1;singleAuthor=null;signalAuthor=k(Object);ngOnInit(){this.letters=[...this.keyArrayLetters],this.letters.unshift("all"),this.initialLetter="all",this._authorService.requestAuthors().pipe(A(1)).subscribe(e=>{this.responseAuthors=e,this.contentAuthors=this.filterByAuthorQuotes(e),this.filterAuthors=[...this.contentAuthors],this.quotesCollection=this.collectQuotes(this.contentAuthors),this.dataLoaded=!0})}viewAuthorsByInitial(e){this.singleAuthor=null,this.initialLetter=e,this.contentAuthors=this.filterByAuthorQuotes(this.responseAuthors,e),this.filterAuthors=[...this.contentAuthors],this.quotesCollection=this.collectQuotes(this.contentAuthors)}filterByAuthorQuotes(e,t="all"){return[...e].filter(s=>{if(t=="all")return s;if(this.validateValuesMatching(s.name.at(0),t))return s})}collectQuotes(e){let t=[];return[...e].forEach(o=>{t=[...t,...o.quotes]}),t}selectAuthor(e){let t=[...this.filterAuthors].filter(o=>o.name==e);this.singleAuthor=t[0],this.signalAuthor.set(t[0]),console.log("Single author:: ",this.singleAuthor,this.signalAuthor()),this.quotesCollection=this.collectQuotes(t)}validateValuesMatching(e,t){let o=!1;return o=e==t,o}static \u0275fac=function(t){return new(t||n)(F(g))};static \u0275cmp=p({type:n,selectors:[["app-collection"]],standalone:!0,features:[C],decls:8,vars:1,consts:[[1,"container-fluid","wrapper-nm-collection"],[1,"row","justify-content-center","text-center"],[1,"col-12"],[1,"row"],[1,"col-3"],[1,"details-authors"],[1,"col-md-4","col-xs-6","wrapper-abc-authors"],[1,"col-9"],[1,"col-lg-3","col-md-4","col-xs-12","wr-initial"],[1,"col-lg-9","col-md-8","col-xs-12","wr-author"],[1,"cont-auth"],[1,"btn","btn-inauthor"],[1,"collection-quotes"],[3,"data"],[1,"btn","btn-author",3,"click","ngClass"],[1,"btn","btn-inauthor",3,"click"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),l(5,"Quotes Collection"),r()(),b(6,N,1,0,"raven-loading")(7,K,20,3,"div",3),r()()()),t&2&&(a(6),P(o.dataLoaded?7:6))},dependencies:[z,Q,L,f],styles:[".wrapper-nm-collection[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4rem}.details-authors[_ngcontent-%COMP%]{text-align:start;font-family:IM Fell Great Primer SC}.btn-author[_ngcontent-%COMP%]{width:100%;font-family:IM Fell Great Primer SC;border:1px solid #9C27B0;color:#e4acee;font-size:2rem;padding:.5rem;margin-bottom:.5rem}.btn-author.active[_ngcontent-%COMP%]   .btn-author[_ngcontent-%COMP%]:focus-visible, .btn-author[_ngcontent-%COMP%]:hover, .btn-author[_ngcontent-%COMP%]:focus, .btn-author[_ngcontent-%COMP%]:focus-within{outline:1px solid #fff}.btn-inauthor.active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .btn-inauthor[_ngcontent-%COMP%]:focus-visible > span[_ngcontent-%COMP%], .btn-inauthor[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%], .btn-inauthor[_ngcontent-%COMP%]:focus > span[_ngcontent-%COMP%], .btn-inauthor[_ngcontent-%COMP%]:focus-within > span[_ngcontent-%COMP%]{border-bottom:4px solid darkcyan}.cont-auth[_ngcontent-%COMP%]{max-height:7rem;overflow:auto}.wr-initial[_ngcontent-%COMP%]{font-size:7rem;font-family:IM Fell Great Primer SC}.wr-author[_ngcontent-%COMP%]{text-align:left;align-content:space-evenly;font-family:IM Fell Great Primer SC;font-size:1.2rem}.btn-inauthor[_ngcontent-%COMP%]{display:inline-block;color:#fff;font-size:1.2rem}.btn-inauthor[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-bottom:4px solid white}.author-info[_ngcontent-%COMP%]{width:40%}.collection-quotes-wauthor[_ngcontent-%COMP%]{width:60%}.collection-quotes[_ngcontent-%COMP%]{width:100%}@media (max-width: 576px){.wrapper-nm-collection[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;line-height:2.5rem}.wrapper-abc-authors[_ngcontent-%COMP%]{padding:0;width:50%}.details-authors[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.wrapper-abc-authors[_ngcontent-%COMP%]   .btn-author[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:0}.cont-auth[_ngcontent-%COMP%]{max-height:4rem;overflow:auto}.wr-initial[_ngcontent-%COMP%]{font-size:3rem;width:35%}.wr-author[_ngcontent-%COMP%]{width:65%}.btn-inauthor[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 .25rem;padding:0;text-align:left}.btn-inauthor[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-bottom:2px solid white}.author-info[_ngcontent-%COMP%], .collection-quotes-wauthor[_ngcontent-%COMP%]{width:100%}}"]})};export{D as CollectionComponent};
